angular.module("nightLife",["ngRoute","ui.bootstrap"]),angular.module("nightLife",["ngRoute","ui.bootstrap"]),angular.module("nightLife").config(["$routeProvider","$locationProvider",function(n,e){n.when("/",{templateUrl:"views/home.html",controller:"BarsController"}),e.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("nightLife").controller("BarsController",["$scope","BarSvc","UserSvc",function(n,e,t){n.location="";var o=function(t){t&&t.length?e.get(t).then(function(e){e.data.error?(n.businesses=[],n.error=e.data.error):n.error=null,n.businesses=e.data.data},function(e){n.businesses=[],n.error="Something went wrong"}):(n.businesses=[],n.error="Enter a location")};n.search=function(n){o(n)},n.checkIn=function(t){e.checkIn(t).then(function(e){var o=n.businesses.filter(function(n){return n.id===t})[0];o.checkin_count+=1,o.is_user_checkedin=!0})},n.cancelCheckIn=function(t){e.cancelCheckIn(t).then(function(e){var o=n.businesses.filter(function(n){return n.id===t})[0];o.checkin_count-=1,o.is_user_checkedin=!1})},t.loginInfo().then(function(e){e.data&&e.data.lastSearch&&(n.location=e.data.lastSearch,o(n.location))})}]),angular.module("nightLife").controller("mainController",["$scope","UserSvc",function(n,e){n.isLoggedIn=!1,n.displayName="",e.loginInfo().then(function(e){n.isLoggedIn=!0,n.displayName=e.data.twitter.name},function(e){n.isLoggedIn=!1,console.log(e)})}]),angular.module("nightLife").factory("BarSvc",["$http",function(n){return{get:function(e){return n.get("/api/bars?location="+e)},checkIn:function(e){return n.post("/api/check-in/"+e)},cancelCheckIn:function(e){return n.post("/api/cancel-check-in/"+e)}}}]),angular.module("nightLife").factory("UserSvc",["$http",function(n){return{loginInfo:function(){return n.get("/api/users/login-info")}}}]),angular.module("nightLife").config(["$routeProvider","$locationProvider",function(n,e){n.when("/",{templateUrl:"views/home.html",controller:"BarsController"}),e.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("nightLife").controller("BarsController",["$scope","BarSvc","UserSvc",function(n,e,t){n.location="";var o=function(t){t&&t.length?e.get(t).then(function(e){e.data.error?(n.businesses=[],n.error=e.data.error):n.error=null,n.businesses=e.data.data},function(e){n.businesses=[],n.error="Something went wrong"}):(n.businesses=[],n.error="Enter a location")};n.search=function(n){o(n)},n.checkIn=function(t){e.checkIn(t).then(function(e){var o=n.businesses.filter(function(n){return n.id===t})[0];o.checkin_count+=1,o.is_user_checkedin=!0})},n.cancelCheckIn=function(t){e.cancelCheckIn(t).then(function(e){var o=n.businesses.filter(function(n){return n.id===t})[0];o.checkin_count-=1,o.is_user_checkedin=!1})},t.loginInfo().then(function(e){e.data&&e.data.lastSearch&&(n.location=e.data.lastSearch,o(n.location))})}]),angular.module("nightLife").controller("mainController",["$scope","UserSvc",function(n,e){n.isLoggedIn=!1,n.displayName="",e.loginInfo().then(function(e){n.isLoggedIn=!0,n.displayName=e.data.twitter.name},function(e){n.isLoggedIn=!1,console.log(e)})}]),angular.module("nightLife").factory("BarSvc",["$http",function(n){return{get:function(e){return n.get("/api/bars?location="+e)},checkIn:function(e){return n.post("/api/check-in/"+e)},cancelCheckIn:function(e){return n.post("/api/cancel-check-in/"+e)}}}]),angular.module("nightLife").factory("UserSvc",["$http",function(n){return{loginInfo:function(){return n.get("/api/users/login-info")}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcFJvdXRlcy5qcyIsIkJhcnNDdHJsLmpzIiwiTWFpbkN0cmwuanMiLCJzZXJ2aWNlcy9CYXJzU2VydmljZS5qcyIsInNlcnZpY2VzL1VzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJuIiwiZSIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJodG1sNU1vZGUiLCJlbmFibGVkIiwicmVxdWlyZUJhc2UiLCJ0IiwibG9jYXRpb24iLCJvIiwibGVuZ3RoIiwiZ2V0IiwidGhlbiIsImRhdGEiLCJlcnJvciIsImJ1c2luZXNzZXMiLCJzZWFyY2giLCJjaGVja0luIiwiZmlsdGVyIiwiaWQiLCJjaGVja2luX2NvdW50IiwiaXNfdXNlcl9jaGVja2VkaW4iLCJjYW5jZWxDaGVja0luIiwibG9naW5JbmZvIiwibGFzdFNlYXJjaCIsImlzTG9nZ2VkSW4iLCJkaXNwbGF5TmFtZSIsInR3aXR0ZXIiLCJuYW1lIiwiY29uc29sZSIsImxvZyIsImZhY3RvcnkiLCJwb3N0IiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIiRzY29wZSIsImJhclN2YyIsInVzZXJTdmMiLCJuaWdodGxpZmVTZWFyY2giLCJyZXNwb25zZSIsImJ1c2luZXNzSWQiLCJjIiwidGhpc0J1c2luZXNzIiwiYiIsIiRodHRwIl0sIm1hcHBpbmdzIjoiQUFDQUEsUUFBQUMsT0FBQSxhQUFBLFVBQUEsaUJBREFELFFBQUFDLE9BQUEsYUFBQSxVQUFBLGlCQUFBRCxRQUFBQyxPQUFBLGFBQUFDLFFBQUEsaUJBQUEsb0JBQUEsU0FBQUMsRUFBQUMsR0FBQUQsRUFBQUUsS0FBQSxLQUFBQyxZQUFBLGtCQUFBQyxXQUFBLG1CQUFBSCxFQUFBSSxXQUFBQyxTQUFBLEVBQUFDLGFBQUEsT0FBQVYsUUFBQUMsT0FBQSxhQUFBTSxXQUFBLGtCQUFBLFNBQUEsU0FBQSxVQUFBLFNBQUFKLEVBQUFDLEVB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UUFBQUMsT0FBQSxhQUFBa0MsUUFBQSxXQUFBLFFBQUEsU0FBQWEsR0FFQSxPQUNBckIsVUFBQSxXQUNBLE1BQUFxQixHQUFBakMsSUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwdWJsaWMvanMvYXBwLmpzXHJcbmFuZ3VsYXIubW9kdWxlKCduaWdodExpZmUnLCBbJ25nUm91dGUnLCd1aS5ib290c3RyYXAnXSk7IiwiLy8gcHVibGljL2pzL2FwcFJvdXRlcy5qc1xyXG5hbmd1bGFyLm1vZHVsZSgnbmlnaHRMaWZlJylcclxuICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG5cclxuICAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgICAgICAvLyBob21lIHBhZ2VcclxuICAgICAgICAgICAgLndoZW4oJy8nLCB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQmFyc0NvbnRyb2xsZXInXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnbmlnaHRMaWZlJylcclxuICAgIC5jb250cm9sbGVyKCdCYXJzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ0JhclN2YycsICdVc2VyU3ZjJywgZnVuY3Rpb24oJHNjb3BlLCBiYXJTdmMsIHVzZXJTdmMpIHtcclxuICAgICAgICAkc2NvcGUubG9jYXRpb24gPSAnJztcclxuXHJcbiAgICAgICAgdmFyIG5pZ2h0bGlmZVNlYXJjaCA9IGZ1bmN0aW9uKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmKGxvY2F0aW9uICYmIGxvY2F0aW9uLmxlbmd0aClcclxuICAgICAgICAgICAge2JhclN2Yy5nZXQobG9jYXRpb24pLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJ1c2luZXNzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSByZXNwb25zZS5kYXRhLmVycm9yO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJ1c2luZXNzZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5idXNpbmVzc2VzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJ1c2luZXNzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkVudGVyIGEgbG9jYXRpb25cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaCA9IGZ1bmN0aW9uKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIG5pZ2h0bGlmZVNlYXJjaChsb2NhdGlvbik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNoZWNrSW4gPSBmdW5jdGlvbihidXNpbmVzc0lkKSB7XHJcblxyXG4gICAgICAgICAgICBiYXJTdmMuY2hlY2tJbihidXNpbmVzc0lkKS50aGVuKGZ1bmN0aW9uKGMpIHtcclxuICAgICAgICAgICAgICB2YXIgdGhpc0J1c2luZXNzPSAgJHNjb3BlLmJ1c2luZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi5pZCA9PT0gYnVzaW5lc3NJZFxyXG4gICAgICAgICAgICAgICAgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzQnVzaW5lc3MuY2hlY2tpbl9jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpc0J1c2luZXNzLmlzX3VzZXJfY2hlY2tlZGluPXRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuY2FuY2VsQ2hlY2tJbiA9IGZ1bmN0aW9uKGJ1c2luZXNzSWQpIHtcclxuXHJcbiAgICAgICAgICAgIGJhclN2Yy5jYW5jZWxDaGVja0luKGJ1c2luZXNzSWQpLnRoZW4oZnVuY3Rpb24oYyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0J1c2luZXNzPSAgJHNjb3BlLmJ1c2luZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi5pZCA9PT0gYnVzaW5lc3NJZFxyXG4gICAgICAgICAgICAgICAgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzQnVzaW5lc3MuY2hlY2tpbl9jb3VudCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpc0J1c2luZXNzLmlzX3VzZXJfY2hlY2tlZGluPWZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXNlclN2Yy5sb2dpbkluZm8oKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5sYXN0U2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9jYXRpb24gPSByZXNwb25zZS5kYXRhLmxhc3RTZWFyY2g7XHJcbiAgICAgICAgICAgICAgICBuaWdodGxpZmVTZWFyY2goJHNjb3BlLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCduaWdodExpZmUnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21haW5Db250cm9sbGVyJywgWyckc2NvcGUnLCAnVXNlclN2YycsIGZ1bmN0aW9uKCRzY29wZSwgdXNlclN2Yykge1xyXG5cclxuXHJcbiAgICAgICAgJHNjb3BlLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuZGlzcGxheU5hbWUgPSAnJztcclxuICAgICAgICB1c2VyU3ZjLmxvZ2luSW5mbygpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5kaXNwbGF5TmFtZSA9IHJlc3BvbnNlLmRhdGEudHdpdHRlci5uYW1lO1xyXG5cclxuICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvcikge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCduaWdodExpZmUnKS5mYWN0b3J5KCdCYXJTdmMnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24obG9jYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9iYXJzP2xvY2F0aW9uPScgKyBsb2NhdGlvbik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAgIGNoZWNrSW46IGZ1bmN0aW9uKGJ1c2luZXNzSWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NoZWNrLWluLycgKyBidXNpbmVzc0lkKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FuY2VsQ2hlY2tJbjogZnVuY3Rpb24oYnVzaW5lc3NJZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY2FuY2VsLWNoZWNrLWluLycgKyBidXNpbmVzc0lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ25pZ2h0TGlmZScpLmZhY3RvcnkoJ1VzZXJTdmMnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxvZ2luSW5mbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvbG9naW4taW5mbycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufV0pOyJdfQ==
